<!doctype html>

<head>
<meta charset=UTF-8>
<title>jloads.js</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet>
<link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css rel=stylesheet>
<link href=style.css rel=stylesheet>
<link rel=icon type=image/png sizes=32x32 href=favicon.png>
<meta name=viewport content="width=device-width,initial-scale=1">
</head>
<body>
<header>
<section>
<a class=hamburger href=javascript:;>â‰¡</a>
<h1><img src=jloads.png> jloads <small>0.1.4</small></h1>
<nav>
<a href=index.html>Guide</a>
<a href=api.html>API</a>
<a href=https://gitter.im>Chat</a>
<a href=https://github.com/jloads/get>GitHub</a>
</nav>
</section>
</header>
<main>
<section>
<h1 id=simple-application><a href=#simple-application>Simple application</a></h1>
<ul>
<li>Getting Started<ul>
<li><a href=index.html>Introduction</a></li>
<li><a href=installation.html>Installation</a></li>
<li><strong><a href=simple-application.html>Tutorial</a></strong></li>
<li><a href=support.html>Getting Help</a></li>
</ul>
</li>
<li>Resources<ul>
<li><a href=es6.html>ES6+ on legacy browsers</a></li>
<li><a href=testing.html>Testing</a></li>
<li><a href=examples.html>Examples</a></li>
<li><a href=integrating-libs.html>3rd Party Integration</a></li>
<li><a href=paths.html>Path Handling</a></li>
</ul>
</li>
<li>Key concepts<ul>
<li><a href=vnodes.html>Vnodes</a></li>
<li><a href=components.html>Components</a></li>
<li><a href=lifecycle-methods.html>Lifecycle methods</a></li>
<li><a href=keys.html>Keys</a></li>
<li><a href=autoredraw.html>Autoredraw system</a></li>
</ul>
</li>
<li>Social<ul>
<li><a href=https://github.com/jloads/get/wiki/JOBS>jloads Jobs</a></li>
<li><a href=contributing.html>How to contribute</a></li>
<li><a href=credits.html>Credits</a></li>
<li><a href=code-of-conduct.html>Code of Conduct</a></li>
</ul>
</li>
<li>Misc<ul>
<li><a href=framework-comparison.html>Framework comparison</a></li>
<li><a href=changelog.html>Change log/Migration</a></li>
</ul>
</li>
</ul>
<p>Let&#39;s develop a simple application that shows off how to do most of the major things you would need to deal with while using jloads.</p>
<p><em>An interactive example of the end result can be seen <a href="https://flems.io/#0=N4IgzgpgNhDGAuEAmIBcIB0sxhAGhADMBLGXVAbVADsBDAWwjRAFVIAnAWQHsloMAVrgKxu1ROOYA3WuwAEbCPIC8c4AB1qc7XKjEw8VHIoBdPJp27utJABl9huYQCu1BMTEAKAJRqLlnXYIeGd2LXoMIIBHZwgDTw0tAOTGeAALXiN1EABxAFEAFWzzJOTLUKgskDT4eAAHMFQAeiag+gBaIIN22jriDDSlbgBrZ166rG56Jt7iJucOMGL-Mp0Ad2J0gGEgvnFiWihGuXh2WJLVgF9vFYCMdIhqTxc3eA8nrucoeF9E1ctFOwMHoDHJVJ9vhgkLR4LRbpZrrdLiVbrBQkFxEZgMjblBrEgjC93F5iEhfvDAsFQuFIhAYnF4AkKSlghkCXJsvkivhmQEKlUavVGi02p0GT0+gMhqNxpNprN5osmtk5ABqOSki7-bQbba7R5vQ7HU7nXmI0p3B5PIlvLwQn5+C2rQFYdEGsFye1mm4WnHUW5gWhSCCE1zEp7kp2UkJhOQRaKxeJ-bVx1mZDkgAAKLG5Wu1-IzgoazVaEA6XXgEv6g3YIzGdQmonlfUVSjAypAaoUHFd7Ax8Awmt5lmhsKMLrRfYNef+urSO2QBoORyMJogM4RPoRmkuIGRNAYTHQgPsBkEwhAonEBuksm7SlP8A9ye0YmI1E2457eJsj5nUmICA1lDV53h8R1ViCGNwk8bIMAWJR2hBeBinvIFkIwehemeMNbSeBD2EjFNPSpWN6FgkBaHgjgkIcdpNjLVDgDSIJCCqJpkE2DsuwIwckDwOQxFgIIYRDONIm4ZxEGBd9hmROReJIdgDAAOUPLsVRVdVeKgWhVMPLcymuQztEuHc9zwA9GGYQEADFuHYCIhHwS8xAkeBb3kOyHPoZ9bjfD9HBtMCpGoXgIF+F0fyQTxQvCjAYVOMA+O8P1LAAoCQPDcCXwCKDqTjCjCB8pjhzKMQwGcAAjehPycXCwIiiDiLKCAMDqIJg3EAARCBCFoL5GRMlqAR7QNgx8MrkjMqNpoEigpsK7JdKq-gVugVDsls4hlKfOhGGybwNzKcjsnfOopMHagLvgCh4AATzqCBlEQAAPeATAoOpdNgCAMigPh2GUbbdrkfaIBMUrZv+AKbqMCI5wAQVqdgKJkKBYlQ4KvHR2JIp7Sd+wwJT9MYD1cYga5ju1CmvyUXsiZJ+A1IO6HN2pgJTpAdaoGBWhVqgTaQFsPS9sPQ6OcsLnzsumXbu+2hfv+wHlBF0Fwch-BmpG2GpPhjAkZRtHDkxrXsaeCn8fpwmDT50mIHJk3KaOxb0qdumgRt8Q7eZ8W2Z0KnFq5qqpPgMQMBD2oxDux7nsqmrNk1gTsgAZSDCAJd5Exhpm3d9xAcHmBF+7JIHZyRDcm90BkeRi9LvyLQy4D6tAnGwr4IiynysiKKw98+ZLqTUIW-3tC5ugpEwx5nGH12dC5uEtdykaWL6owAHImmQ9fJZhtwRMQfXayktq9GoYY59M5PWEWQ7Fuz3ex4oyBw1QuK+CwNJSCQDFhssbOkTmXzoXdAspy6uWvJIdA8ZS5tQ6n1Ygr1PDrwAMTrx9DAk+ngkDcDRIwb2VVeD3WvlvBwUNLDZFIQYbIWJeQYkBllPCOVFrdxgnXKSAlyIngcN4P+AckQzkoZxeATRUCkhodrPKjwGEt2yu-Jqy8u6kTYbQQe8BOGeG8o5AS8iEoozALws0AidzeAslZI8mBsAXivO5ZghCkDELkFdG6AkI6hzEM1YqmIwY+UOHIAAjAANjqK9OQAA1JQ0I6AAG5-BYXYAAc3fEYAATAABhCbE6gM1NAD3rsmeJSTqBGH8Rk0JA0w5ZLHrQV67QNhIHSCUtJzTMk7k0Lk-BzhmqFOSXINJfS5AAGYylZJydQaiiFkLNWQu0Aw90YBGDCtQCAVS4yyCKUYfp-TSmtKSHUGwSB3wJM2aM9p4yCK0W6AxXyyYqqK2GAk4+1B2QoP6m82gqzCHsBkf4kJcgwDcD0EgOQKCkBgtWaIPE7AjAoMGXC1ZhywAK3ukYKqeJYDDFWT04pAztm7O0PssFRyjAAA4-n+IAKz4pOBAd67Q+CiHYDCd4iyxArLaf6c5NEZnXNQBkYM8hkxvUrAyhyzKxBGFcIDM+7LslnL5gLZqiLkWovRZiuJ6zelbLkFS16pzOXOKks1L5Py-kAqBSCsFSBPkOUBp0GwxAFhGEGdSwhtSwDEAAF7ErkCaxCbqEX6BVb6tVWLNU4u1TsvV-hCWHOoMcgJZSAm6tWfUxpia0kAFJ9W5MjmHLQtz7mPMks8mFEBy02u+UoEpZrAWkkteC-wfr2D2sOU6oZ1LIUORhXCwZgakW6RRRqagMr2hotweqpI2LNkDKjas2NPqo3JupcK+lcAxV4VZcsnN4y80Sv5UoY1RankvIgCSs9Z7RkuUgDAcM5AQCBJSagfxe4zDc1kuQKgBdDzMFqukdgpAXIVGYEWYU8xroPLlE0P9LFSAAAF-EYEQ4E6DmxYO83AQ9J6zAwDCWIHUDylwTCXCAA">here</a></em></p>
<p>First let&#39;s create an entry point for the application. Create a file <code>index.html</code>:</p>
<pre><code class=language-html>&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;/&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;/&gt;
    &lt;title&gt;My Application&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script src=&quot;bin/app.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>The <code>&lt;!doctype html&gt;</code> line indicates this is an HTML 5 document. The first <code>charset</code> meta tag indicates the encoding of the document and the <code>viewport</code> meta tag dictates how mobile browsers should scale the page. The <code>title</code> tag contains the text to be displayed on the browser tab for this application, and the <code>script</code> tag indicates what is the path to the JavaScript file that controls the application.</p>
<p>We could create the entire application in a single JavaScript file, but doing so would make it difficult to navigate the codebase later on. Instead, let&#39;s split the code into <em>modules</em>, and assemble these modules into a <em>bundle</em> <code>bin/app.js</code>
.</p>
<p>There are many ways to setup a bundler tool, but most are distributed via npm. In fact, most modern JavaScript libraries and tools are distributed that way, including jloads. To download npm, <a href=https://nodejs.org/en/ >install Node.js</a>; npm is installed automatically with it. Once you have Node.js and npm installed, open the command line and run this command:</p>
<pre><code class=language-bash>npm init -y</code></pre>
<p>If npm is installed correctly, a file <code>package.json</code> will be created. This file will contain a skeleton project meta-description file. Feel free to edit the project and author information in this file.</p>
<hr>
<p>To install jloads, follow the instructions in the <a href=installation.html>installation</a> page. Once you have a project skeleton with jloads installed, we are ready to create the application.</p>
<p>Let&#39;s start by creating a module to store our state. Let&#39;s create a file called <code>src/models/User.js</code></p>
<pre><code class=language-javascript>// src/models/User.js
var User = {
    list: []
}

module.exports = User</code></pre>
<p>Now let&#39;s add code to load some data from a server. To communicate with a server, we can use jloads&#39;s XHR utility, <code>m.request</code>. First, we include jloads in the module:</p>
<pre><code class=language-javascript>// src/models/User.js
var m = require(&quot;jloads&quot;)

var User = {
    list: []
}

module.exports = User</code></pre>
<p>Next we create a function that will trigger an XHR call. Let&#39;s call it <code>loadList</code></p>
<pre><code class=language-javascript>// src/models/User.js
var m = require(&quot;jloads&quot;)

var User = {
    list: [],
    loadList: function () {
        // TODO: make XHR call
    }
}

module.exports = User</code></pre>
<p>Then we can add an <code>m.request</code> call to make an XHR request. For this tutorial, we&#39;ll make XHR calls to the <a href=https://rem-rest-api.herokuapp.com/ >REM</a> API, a mock REST API designed for rapid prototyping. This API returns a list of users from the <code>GET https://rem-rest-api.herokuapp.com/api/users</code> endpoint. Let&#39;s use <code>m.request</code> to make an XHR request and populate our data with the response of that endpoint.</p>
<p><em>Note: third-party cookies may have to be enabled for the REM endpoint to work.</em></p>
<pre><code class=language-javascript>// src/models/User.js
var m = require(&quot;jloads&quot;)

var User = {
    list: [],
    loadList: function () {
        return m.request({
            method: &quot;GET&quot;,
            url: &quot;https://rem-rest-api.herokuapp.com/api/users&quot;,
            withCredentials: true,
        })
                .then(function (result) {
                    User.list = result.data
                })
    },
}

module.exports = User</code></pre>
<p>The <code>method</code> option is an <a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods>HTTP method</a>. To retrieve data from the server without causing side-effects on the server, we need to use the <code>GET</code> method. The <code>url</code> is the address for the API endpoint. The <code>withCredentials: true</code> line indicates that we&#39;re using cookies (which is a requirement for the REM API).</p>
<p>The <code>m.request</code> call returns a Promise that resolves to the data from the endpoint. By default, jloads assumes a HTTP response body are in JSON format and automatically parses it into a JavaScript object or array. The <code>.then</code> callback runs when the XHR request completes. In this case, the callback assigns the <code>result.data</code> array to <code>User.list</code>.</p>
<p>Notice we also have a <code>return</code> statement in <code>loadList</code>. This is a general good practice when working with Promises, which allows us to register more callbacks to run after the completion of the XHR request.</p>
<p>This simple model exposes two members: <code>User.list</code> (an array of user objects), and <code>User.loadList</code> (a method that populates <code>User.list</code> with server data).</p>
<hr>
<p>Now, let&#39;s create a view module so that we can display data from our User model module.</p>
<p>Create a file called <code>src/views/UserList.js</code>. First, let&#39;s include jloads and our model, since we&#39;ll need to use both:</p>
<pre><code class=language-javascript>// src/views/UserList.js
var m = require(&quot;jloads&quot;)</code></pre>
<p>Next, let&#39;s create a jloads component. A component is simply an object that has a <code>view</code> method:</p>
<pre><code class=language-javascript>// src/views/UserList.js
var m = require(&quot;jloads&quot;)

module.exports = {
    view: function () {
        // TODO add code here
    }
}</code></pre>
<ul>
<li>You can use <a href=https://eslint.org/ >ESLint</a> for easy linting with no special plugins.</li>
<li>You can use <a href=https://github.com/terser-js/terser>Terser</a> or <a href=https://github.com/mishoo/UglifyJS2>UglifyJS</a> (ES5 only) to minify your code easily.</li>
<li>You can use <a href=https://www.typescriptlang.org/ >TypeScript</a> for easy code analysis. so you don&#39;t need to roll your own.)</li>
</ul>
<hr>
<p>This concludes the tutorial.</p>
<p>In this tutorial, we went through the process of creating a very simple application where we can list users from a server and edit them individually. As an extra exercise, try to implement user creation and deletion on your own.</p>
<p>If you want to see more examples of jloads code, check the <a href=examples.html>examples</a> page. If you have questions, feel free to drop by the
<a href=https://gitter.im>jloads chat room</a>.</p>
<hr>
<small>License: MIT. &copy; Tom Sapletta.</small>
</section>
</main>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-jsx.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-diff.min.js></script>
<script src=https://unpkg.com/jloads@0.1.4/jloads.js async></script>
<script src=https://flems.io/flems.html id=flems defer></script>
<script>
document.querySelector(".hamburger").onclick = function () {
		document.body.className = document.body.className === "navigating" ? "" : "navigating"
		document.querySelector("h1 + ul").onclick = function () {
			document.body.className = ''
		}
	}
	document.getElementById("flems").onload = function () {
		var systemFonts = [
					"body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }",
					"body { height: 100%; overflow:hidden; display:flex; justify-content: center; align-items:center; }"
				].join("")
		;[].forEach.call(document.querySelectorAll("pre code.language-js"), function (el) {
			el = el.parentNode

			var div = document.createElement("div")
			window.Flems(div, {
				middle: 60,
				editable: true,
				toolbar: false,
				shareButton: true,
				console: false,
				autoHeight: true,
				files: [{
					name: ".js",
					content: el.textContent
				}, {
					name: ".css",
					content: systemFonts
				}],
				links: [{
					name: "jloads",
					type: "script",
					url: "https://unpkg.com/jloads@0.1.4/jloads.js"
				}]
			}, "https://flems.io/flems.html")

			el.parentNode.insertBefore(div, el)
			el.parentNode.removeChild(el)
		})
	}
</script>
