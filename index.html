<!doctype html>

<head>
<meta charset=UTF-8>
<title>jloads.js</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet>
<link href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css rel=stylesheet>
<link href=style.css rel=stylesheet>
<link rel=icon type=image/png sizes=32x32 href=favicon.png>
<meta name=viewport content="width=device-width,initial-scale=1">
</head>
<body>
<header>
<section>
<a class=hamburger href=javascript:;>â‰¡</a>
<h1><img src=jloads.png> jloads <small>0.1.4</small></h1>
<nav>
<a href=index.html>Guide</a>
<a href=api.html>API</a>
<a href=https://gitter.im>Chat</a>
<a href=https://github.com/jloads/get>GitHub</a>
</nav>
</section>
</header>
<main>
<section>
<h1 id=introduction><a href=#introduction>Introduction</a></h1>
<ul>
<li>Getting Started<ul>
<li><strong><a href=index.html>Introduction</a></strong><ul>
<li><a href=#what-is-jloads?>What is jloads?</a></li>
<li><a href=#getting-started>Getting started</a></li>
<li><a href=#hello-world>Hello world</a></li>
<li><a href=#dom-elements>DOM elements</a></li>
<li><a href=#components>Components</a></li>
<li><a href=#routing>Routing</a></li>
<li><a href=#xhr>XHR</a></li>
</ul>
</li>
<li><a href=installation.html>Installation</a></li>
<li><a href=simple-application.html>Tutorial</a></li>
<li><a href=support.html>Getting Help</a></li>
</ul>
</li>
<li>Resources<ul>
<li><a href=es6.html>ES6+ on legacy browsers</a></li>
<li><a href=testing.html>Testing</a></li>
<li><a href=examples.html>Examples</a></li>
<li><a href=integrating-libs.html>3rd Party Integration</a></li>
<li><a href=paths.html>Path Handling</a></li>
</ul>
</li>
<li>Key concepts<ul>
<li><a href=vnodes.html>Vnodes</a></li>
<li><a href=components.html>Components</a></li>
<li><a href=lifecycle-methods.html>Lifecycle methods</a></li>
<li><a href=keys.html>Keys</a></li>
<li><a href=autoredraw.html>Autoredraw system</a></li>
</ul>
</li>
<li>Social<ul>
<li><a href=https://github.com/jloads/get/wiki/JOBS>jloads Jobs</a></li>
<li><a href=contributing.html>How to contribute</a></li>
<li><a href=credits.html>Credits</a></li>
<li><a href=code-of-conduct.html>Code of Conduct</a></li>
</ul>
</li>
<li>Misc<ul>
<li><a href=framework-comparison.html>Framework comparison</a></li>
<li><a href=changelog.html>Change log/Migration</a></li>
</ul>
</li>
</ul>
<hr>
<h3 id=what-is-jloads?><a href=#what-is-jloads?>What is jloads?</a></h3>
<p>jloads is a modern client-side JavaScript framework for building Single Page Applications. It&#39;s small (&lt; 10kb gzip), fast and provides routing and XHR utilities out of the box.</p>
<div style="display:flex;margin:0 0 30px;">
<div style=width:50%;>
<h5>Download size</h5>
<small>jloads (9.5kb)</small>
<div style="animation:grow 0.08s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:4%;"></div>
<small style=color:#aaa;>Vue + Vue-Router + Vuex + fetch (40kb)</small>
<div style="animation:grow 0.4s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:20%"></div>
<small style=color:#aaa;>React + React-Router + Redux + fetch (64kb)</small>
<div style="animation:grow 0.64s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:32%"></div>
<small style=color:#aaa;>Angular (135kb)</small>
<div style="animation:grow 1.35s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:68%"></div>
</div>
<div style=width:50%;>
<h5>Performance</h5>
<small>jloads (6.4ms)</small>
<div style="animation:grow 0.64s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:24%;"></div>
<small style=color:#aaa;>Vue (9.8ms)</small>
<div style="animation:grow 0.98s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:40%"></div>
<small style=color:#aaa;>React (12.1ms)</small>
<div style="animation:grow 1.21s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:48%"></div>
<small style=color:#aaa;>Angular (11.5ms)</small>
<div style="animation:grow 1.15s;background:#1e5799;height:3px;margin:0 10px 10px 0;transform-origin:0;width:44%"></div>
</div>
</div>
<p>jloads is used by companies like Vimeo and Nike, and open source platforms like Lichess.</p>
<p>If you are an experienced developer and want to know how jloads compares to other frameworks, see the <a href=framework-comparison.html>framework comparison</a> page.</p>
<p>jloads supports IE11, Firefox ESR, and the last two versions of Firefox, Edge, Safari, and Chrome. No polyfills required.</p>
<hr>
<h3 id=getting-started><a href=#getting-started>Getting started</a></h3>
<p>An easy way to try out jloads is to include it from a CDN and follow this tutorial. It&#39;ll cover the majority of the API surface (including routing and XHR) but it&#39;ll only take 10 minutes.</p>
<p>Let&#39;s create an HTML file to follow along:</p>
<pre><code class=language-html>
&lt;body&gt;
&lt;script src=&quot;https://unpkg.com/jloads/get&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    var root = document.body

    // your code goes here!
&lt;/script&gt;
&lt;/body&gt;</code></pre>
<p>To make things simpler you can try out jloads right here. This is a live playground with jloads preloaded that - by the way - is also built in jloads.</p>
<pre><code class=language-js>var root = document.body

// Your code here

m.mount(root, {
    view: function () {
        return m(&quot;h1&quot;, &quot;Try me out&quot;)
    }
})</code></pre>
<blockquote>
<p><em><a href="https://flems.io/jloads@next#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvEAXwvW10QICsEqdBk2J4s+LLQCuDABQATWtSk4G+AEa15ATwoACYAB00e03oBuEGAHdEesDOrEI9WQEoDxs970AnGMRSviZYsgDkhACMYfphACq+2no4etLEYW5eZqzGrG6UIHAwsE4uaAg8ACyIAExsHCCYOHj41HACNPSMzDxsALqsQA">Click here to open the sample on flems.io</a></em></p>
</blockquote>
<hr>
<h3 id=hello-world><a href=#hello-world>Hello world</a></h3>
<p>Let&#39;s start as small as we can: render some text on screen. Copy the code below into your file (and by copy, I mean type it out - you&#39;ll learn better)</p>
<pre><code class=language-javascript>var root = document.body

m.render(root, &quot;Hello world&quot;)</code></pre>
<p>Now, let&#39;s change the text to something else. Add this line of code under the previous one:</p>
<pre><code class=language-javascript>m.render(root, &quot;My first app&quot;)</code></pre>
<p>As you can see, you use the same code to both create and update HTML. jloads automatically figures out the most efficient way of updating the text, rather than blindly recreating it from scratch.</p>
<h4 id=live-example><a href=#live-example>Live Example</a></h4>
<pre><code class=language-js>var root = document.body

m.render(root, &quot;Hello World&quot;)</code></pre>
<hr>
<h3 id=dom-elements><a href=#dom-elements>DOM elements</a></h3>
<p>Let&#39;s wrap our text in an <code>&lt;h1&gt;</code> tag.</p>
<pre><code class=language-javascript>m.render(root, m(&quot;h1&quot;, &quot;My first app&quot;))</code></pre>
<h4 id=live-example0><a href=#live-example0>Live Example</a></h4>
<pre><code class=language-js>var root = document.body
</code></pre>
<hr>
<h3 id=components><a href=#components>Components</a></h3>
<p>A jloads component is just an object with a <code>view</code> function. Here&#39;s the code above as a component:</p>
<pre><code class=language-javascript>var Hello = {
    view: function () {
        return m(&quot;main&quot;, [
            m(&quot;h1&quot;, {class: &quot;title&quot;}, &quot;My first app&quot;),
            m(&quot;button&quot;, &quot;A button&quot;),
        ])
    }
}</code></pre>
<p>We defined an <code>onclick</code> event on the button, which increments a variable <code>count</code> (which was declared at the top). We are now also rendering the value of that variable in the button label.</p>
<p>You can now update the label of the button by clicking the button. Since we used <code>m.mount</code>, you don&#39;t need to manually call <code>m.render</code> to apply the changes in the <code>count</code> variable to the HTML; jloads does it for you.</p>
<p>If you&#39;re wondering about performance, it turns out jloads is very fast at rendering updates, because it only touches the parts of the DOM it absolutely needs to. So in our example above, when you click the button, the text in it is the only part of the DOM jloads actually updates.</p>
<h4 id=live-example1><a href=#live-example1>Live Example</a></h4>
<pre><code class=language-js>var root = document.body
var count = 0 // added a variable

var Hello = {
    view: function () {
        return m(&quot;main&quot;, [
            m(&quot;h1&quot;, {
                class: &quot;title&quot;
            }, &quot;My first app&quot;),
            m(&quot;button&quot;, {
                onclick: function () {
                    count++
                }
            }, count + &quot; clicks&quot;)
        ])
    }
}

m.mount(root, Hello)</code></pre>
<hr>
<h3 id=routing><a href=#routing>Routing</a></h3>
<p>Routing just means going from one screen to another in an application with several screens.</p>
<p>Let&#39;s add a splash page that appears before our click counter. First we create a component for it:</p>
<pre><code class=language-javascript>var Splash = {
    view: function () {
        return m(&quot;a&quot;, {href: &quot;#!/hello&quot;}, &quot;Enter!&quot;)
    }
}</code></pre>
<p>As you can see, this component simply renders a link to <code>#!/hello</code>. The <code>#!</code> part is known as a hashbang, and it&#39;s a common convention used in Single Page Applications to indicate that the stuff after it (the <code>/hello</code> part) is a route path.</p>
<p>Now that we&#39;re going to have more than one screen, we use <code>m.route</code> instead of <code>m.mount</code>.</p>
<hr>
<h3 id=xhr><a href=#xhr>XHR</a></h3>
<p>Basically, XHR is just a way to talk to a server.</p>
<p>Let&#39;s change our click counter to make it save data on a server. For the server, we&#39;ll use <a href=https://rem-rest-api.herokuapp.com>REM</a>, a mock REST API designed for toy apps like this tutorial.</p>
<p>First we create a function that calls <code>m.request</code>. The <code>url</code> specifies an endpoint that represents a resource, the <code>method</code> specifies the type of action we&#39;re taking (typically the <code>PUT</code>
method <a href=https://en.wiktionary.org/wiki/upsert>upserts</a>), <code>body</code> is the payload that we&#39;re sending to the endpoint and <code>withCredentials</code> means to enable cookies (a requirement for the REM API to work)</p>
<pre><code class=language-javascript>var count = 0
var increment = function () {
    m.request({
        method: &quot;PUT&quot;,
        url: &quot;//rem-rest-api.herokuapp.com/api/tutorial/1&quot;,
        body: {count: count + 1},
        withCredentials: true,
    })
            .then(function (data) {
                count = parseInt(data.count)
            })
}</code></pre>
<p>Calling the increment function <a href=https://en.wiktionary.org/wiki/upsert>upserts</a> an object <code>{count: 1}</code> to the <code>/api/tutorial/1</code> endpoint. This endpoint returns an object with the same <code>count</code> value that was sent to it. Notice that the <code>count</code> variable is only updated after the request completes, and it&#39;s updated with the response value from the server now.</p>
<p>Let&#39;s replace the event handler in the component to call the <code>increment</code> function instead of incrementing the <code>count</code>
variable directly:</p>
<pre><code class=language-javascript>var Hello = {
    view: function () {
        return m(&quot;main&quot;, [
            m(&quot;h1&quot;, {class: &quot;title&quot;}, &quot;My first app&quot;),
            m(&quot;button&quot;, {onclick: increment}, count + &quot; clicks&quot;),
        ])
    }
}</code></pre>
<p>Clicking the button should now update the count.</p>
<h4 id=live-example2><a href=#live-example2>Live Example</a></h4>
<pre><code class=language-js>var root = document.body
var count = 0

var increment = function () {
    m.request({
        method: &quot;PUT&quot;,
        url: &quot;//rem-rest-api.herokuapp.com/api/tutorial/1&quot;,
        body: {count: count + 1},
        withCredentials: true,
    })
            .then(function (data) {
                count = parseInt(data.count)
            })
}

var Hello = {
    view: function () {
        return m(&quot;main&quot;, [
            m(&quot;h1&quot;, {
                class: &quot;title&quot;
            }, &quot;My first app&quot;),
            m(&quot;button&quot;, {
                onclick: increment
            }, count + &quot; clicks&quot;),
        ])
    }
}

m.mount(root, Hello)</code></pre>
<hr>
<p>We covered how to create and update HTML, how to create components, routes for a Single Page Application, and interacted with a server via XHR.</p>
<p>This should be enough to get you started writing the frontend for a real application. Now that you are comfortable with the basics of the jloads API, <a href=simple-application.html>be sure to check out the simple application tutorial</a>, which walks you through building a realistic application.</p>
<hr>
<small>License: MIT. &copy; Tom Sapletta.</small>
</section>
</main>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-jsx.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-diff.min.js></script>
<script src=https://unpkg.com/jloads@0.1.4/jloads.js async></script>
<script src=https://flems.io/flems.html id=flems defer></script>
<script>
document.querySelector(".hamburger").onclick = function () {
		document.body.className = document.body.className === "navigating" ? "" : "navigating"
		document.querySelector("h1 + ul").onclick = function () {
			document.body.className = ''
		}
	}
	document.getElementById("flems").onload = function () {
		var systemFonts = [
					"body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; }",
					"body { height: 100%; overflow:hidden; display:flex; justify-content: center; align-items:center; }"
				].join("")
		;[].forEach.call(document.querySelectorAll("pre code.language-js"), function (el) {
			el = el.parentNode

			var div = document.createElement("div")
			window.Flems(div, {
				middle: 60,
				editable: true,
				toolbar: false,
				shareButton: true,
				console: false,
				autoHeight: true,
				files: [{
					name: ".js",
					content: el.textContent
				}, {
					name: ".css",
					content: systemFonts
				}],
				links: [{
					name: "jloads",
					type: "script",
					url: "https://unpkg.com/jloads@0.1.4/jloads.js"
				}]
			}, "https://flems.io/flems.html")

			el.parentNode.insertBefore(div, el)
			el.parentNode.removeChild(el)
		})
	}
</script>
